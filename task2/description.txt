Скобки:

Для построения регулярного выражения используется рекурсивная функция, которая заменяет . в строке r'(\(.\)|{.}|\[.\])*' на саму начальную строку 9 раз, а затем убирает .

Таким образом получается длинное выражение, способное проверить скобочное выражение на правильность с большой вложенностью скобок.



Предложения:

Регулярное выражение предназначено для разбора текста на предложения. 

Оно состоит из трех основных частей:

1. (?:[А-Я\d][^.?!]*:\s+(?:\d+\.\s+[А-Я][^;]*;\s*)+(?:\d+\.\s+[А-Я][^\.\n]*\.\s*))
   - Эта часть проверяет, что строка начинается с заглавной буквы или цифры, за которой следует двоеточие и пробел.
   - Затем идет одно или несколько предложений в формате "число. <заглавная буква> текст;", разделенных точкой с запятой.
   - Последнее предложение заканчивается точкой.

2. (?:[А-Я\d]+(?:\.\s)?[^.?!:]*(?:\:\n|\?|\!|\.))
   - Эта часть проверяет, что строка начинается с заглавной буквы или числа, за которым может следовать точка и пробел.
   - Затем идет любой текст, не содержащий точек, вопросительных или восклицательных знаков, двоеточий и переводов строки.
   - Предложение заканчивается одним из символов: двоеточие с переводом строки, вопросительный знак, восклицательный знак или точка.

3. (?:[А-Я\d]+(?:\.\s+)?[^.?!]*[\.\n])
   - Эта часть проверяет, что строка начинается с заглавной буквы или числа, за которым может следовать точка и один или несколько пробелов.
   - Затем идет любой текст, не содержащий точек, вопросительных или восклицательных знаков.
   - Предложение заканчивается точкой или переводом строки.

Таким образом, регулярное выражение разбивает текст на предложения, учитывая различные варианты их записи.



Персоны:

Регулярное выражение предназначено для поиска имени и фамилии в тексте.

Оно состоит из нескольких частей:

1. (?P<person>(?:(?:[А-Я][а-я]+) )?
   - Эта часть проверяет, что перед фамилией может быть пробел и имя.

2. [А-Я][а-я]*
   - Эта часть проверяет, что после возможного имени идет фамилия, начинающаяся с заглавной буквы.

3. (?:ов|ев|ан|ин)
   - Эта часть проверяет, что фамилия может иметь одно из окончаний: "ов", "ев", "ан" или "ин".

4. (?:а|у|е|ым|ой)?
   - Эта часть проверяет, что после окончания может быть одна из дополнительных букв, которая появляется при склонении фамилии: "а", "у", "е", "ым" или "ой".

5. (?![а-я])
   - Эта часть проверяет, что после фамилии нет буквы, чтобы не учитывать слова, которые начинаются с заглавной буквы и имеют одно из перечисленных в пункте 3 сочетаний букв в середине.

6. (?: [А-Я][а-я]+)?
   - Эта часть проверяет, что после фамилии может быть пробел и имя.

Таким образом, регулярное выражение находит фамилию и имя в тексте, учитывая различные варианты их записи.



Сериалы:

Данное регулярное выражение используется для поиска информации о сериалах, их эпизодах и дате выхода эпизодов на веб-странице.

Оно состоит из нескольких частей:

1. <h1.*><a.*href=\"\/series\/\d*\/\">(?P<name>.*)<\/a><\/h1>
   - Эта часть проверяет наличие заголовка сериала и извлекает его название.

2. <td.*><b>Эпизоды(?:.|\n)*<td.*>(?P<episodes_count>\d+)<\/td>
   - Эта часть проверяет наличие информации о количестве эпизодов сериала и извлекает это число.

3. <td.*><h1.*>Сезон\s(?P<season>\d+).*<\/h1>\s*(?P<season_year>\d{4}),\sэпизодов:\s(?P<season_episodes>\d+)\s*<\/td>
   - Эта часть проверяет наличие информации о сезонах сериала, годе сезона и количестве эпизодов в сезоне, и извлекает эти данные.

4. <span.*>Эпизод\s(?P<episode_number>\d+)<\/span><br\/>\s*<h1.*><b>(?P<episode_name>.*)<\/b><\/h1>\s*(?:<span.*>(?P<original_name>.*)<\/span>.*)?<\/td>\s*<td.*>(?P<episode_date>.*)<\/td>
   - Эта часть проверяет наличие информации о каждом эпизоде сериала, его номере, названии, оригинальном названии (если есть) и дате выхода, и извлекает эти данные.

Таким образом, регулярное выражение позволяет извлекать информацию о сериалах, их эпизодах и дате выхода эпизодов на веб-странице.
